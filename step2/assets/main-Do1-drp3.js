(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const p="todo-list-data",d=L();let l;const y=document.getElementById("todo-list"),m=document.getElementById("new-todo-item-title"),g=document.getElementById("edit-item-panel"),r=document.getElementById("edit-todo-item-title");document.getElementById("new-todo-item-add").addEventListener("click",h);m.addEventListener("keyup",f("Enter",h));document.getElementById("edit-todo-item-cancel").addEventListener("click",I);document.getElementById("edit-todo-item-confirm").addEventListener("click",v);r.addEventListener("keyup",f("Enter",v));r.addEventListener("keyup",f("Escape",I));function f(t,i){return o=>o.key===t&&i()}function L(){let t;try{t=JSON.parse(localStorage.getItem(p))}catch{}return t instanceof Array?t:[]}function E(){localStorage.setItem(p,JSON.stringify(d))}function O(t){const i=d[t];g.hidden=!1,r.value=i,l=t,r.focus()}function v(){l!==void 0&&(r.value&&(d[l]=r.value,E(),u()),s())}function I(){s()}function s(){l=void 0,g.hidden=!0,r.value=""}function B(t){s(),d.splice(t,1),E(),u()}function h(){s();const t=m.value;d.push(t),m.value="",E(),u()}function S(t,i){const o=y.appendChild(document.createElement("li")),c=o.appendChild(document.createElement("span")),e=o.appendChild(document.createElement("button")),n=o.appendChild(document.createElement("button"));c.innerText=t,e.innerText="Modifier",n.innerText="Supprimer",e.addEventListener("click",()=>O(i)),n.addEventListener("click",()=>B(i))}function u(){y.replaceChildren(),d.forEach(S)}u();
