(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();const p="todo-list-data",c=L();let s;const h=document.getElementById("todo-list"),f=document.getElementById("new-todo-item-title"),y=document.getElementById("edit-item-panel"),d=document.getElementById("edit-todo-item-title");document.getElementById("new-todo-item-add").addEventListener("click",I);f.addEventListener("keyup",E("Enter",I));document.getElementById("edit-todo-item-cancel").addEventListener("click",v);document.getElementById("edit-todo-item-confirm").addEventListener("click",g);d.addEventListener("keyup",E("Enter",g));d.addEventListener("keyup",E("Escape",v));function E(e,o){return i=>i.key===e&&o()}function L(){let e;try{e=JSON.parse(localStorage.getItem(p))}catch{}return e instanceof Array?e:[]}function u(){localStorage.setItem(p,JSON.stringify(c))}function k(e){const{title:o}=c[e];y.hidden=!1,d.value=o,s=e,d.focus()}function g(){s!==void 0&&(d.value&&(c[s].title=d.value,u(),m()),a())}function v(){a()}function a(){s=void 0,y.hidden=!0,d.value=""}function O(e){a(),c.splice(e,1),u(),m()}function I(){a();const e=f.value;c.push({title:e}),f.value="",u(),m()}function B(e){c[e].checked=!c[e].checked,u()}function b(e,o){const i=h.appendChild(document.createElement("li")),l=i.appendChild(document.createElement("span")),t=i.appendChild(document.createElement("input")),n=i.appendChild(document.createElement("button")),r=i.appendChild(document.createElement("button"));l.innerText=e.title,t.type="checkbox",t.checked=e.checked,n.innerText="Modifier",r.innerText="Supprimer",t.addEventListener("change",()=>B(o)),n.addEventListener("click",()=>k(o)),r.addEventListener("click",()=>O(o))}function m(){h.replaceChildren(),c.forEach(b)}m();
