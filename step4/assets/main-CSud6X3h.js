import"./style-fttqLdzH.js";const f="todo-list-data",t=y();let c;const p=document.getElementById("todo-list"),m=document.getElementById("new-todo-item-title"),h=document.getElementById("edit-item-panel"),d=document.getElementById("edit-todo-item-title");document.getElementById("new-todo-item-add").addEventListener("click",g);m.addEventListener("keyup",u("Enter",g));document.getElementById("edit-todo-item-cancel").addEventListener("click",I);document.getElementById("edit-todo-item-confirm").addEventListener("click",v);d.addEventListener("keyup",u("Enter",v));d.addEventListener("keyup",u("Escape",I));function u(e,n){return i=>i.key===e&&n()}function y(){let e;try{e=JSON.parse(localStorage.getItem(f))}catch{}return e instanceof Array?e:[]}function o(){localStorage.setItem(f,JSON.stringify(t))}function L(e){const{title:n}=t[e];h.hidden=!1,d.value=n,c=e,d.focus()}function v(){c!==void 0&&(d.value&&(t[c].title=d.value,o(),r()),l())}function I(){l()}function l(){c=void 0,h.hidden=!0,d.value=""}function B(e){l(),t.splice(e,1),o(),r()}function g(){l();const e=m.value;t.push({title:e}),m.value="",o(),r()}function C(e){t[e].checked=!t[e].checked,o()}function T(e,n){const i=p.appendChild(document.createElement("li")),k=i.appendChild(document.createElement("span")),a=i.appendChild(document.createElement("input")),s=i.appendChild(document.createElement("button")),E=i.appendChild(document.createElement("button"));k.innerText=e.title,a.type="checkbox",a.checked=e.checked,s.innerText="Modifier",E.innerText="Supprimer",a.addEventListener("change",()=>C(n)),s.addEventListener("click",()=>L(n)),E.addEventListener("click",()=>B(n))}function r(){p.replaceChildren(),t.forEach(T)}r();
